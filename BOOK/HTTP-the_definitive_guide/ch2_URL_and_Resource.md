ch2 URL 과 Resource
===================

#### 대부분의 url 은 스킴://서버위치/경로 의 구조로 되어있다.

URL 문법
--------

URL은 총 `9개`의 부분으로 나눌수 있다.

`<스킴>://<사용자이름>:<비밀번호>@<호스트>:<포트>/<경로>;<파라미터>?<질의>#<프래그먼트>`

-	`스킴` : http , https , ftp 등 전송 프로토콜을 나타낸다. 대/소문자 구분을 하지 않으며 알파벳을 사용한다. 리소스를 가져오려면 어떤 프로토콜을 사용하여 서버에 접근해야 하는지 가리킨다.<br>
-	`사용자이름 + 비밀번호` : 사용자의 이름과 비밀번호를 요구하는 서버가 존재한다. 이때 사용자 이름과 비밀번호가 필요하게 된다, ex) ftp 서버 , 이를 기술하지 않는다면 보통 사용자의 이름은 anonymous로 들어가게 된다.<br>
-	`호스트 + 포트` : 리소스를 호스팅하는 서버의 호스트명이나 IP주소로서 , 호스트는 서버 위치로 인터넷상의 호스트 장비의 위치를 가르킨다. **포트**는 특정값으로 지정해주지 않았다면 기본포트 80으로 나타내어진다.<br>
-	`경로` : 경로는 해당 호스트( 서버 ) 에서의 리소스의 위치를 나타낸다. 이전 URL의 경로는 유닉스 파일시스템의 파일경로와 유사하다. <br>
-	`파라미터` : 특정 스킴에서 입력 파라미터를 기술하는 용도로 사용되며 , 애플리케이션에서 서버에 정확한 요청을 하기 위해서 사용된다. 이름/값 쌍의 리스트로서 `;`로 구분한다. <br>
-	`질의` : 스킴에서 어플리케이션에 파라미터를 전달하는데 쓰인다. 리소스 형식의 범위를 줄이기 위해서 사용되며 , 편의상 대부분의 게이트웨이는 `&`로 나뉜 이름=값 쌍의 형태의 질의 문자열을 원한다.
-	`프래그먼트` : 리소스의 특정 부분을 가리킬 수 있도록 사용되며 , 프래그먼트는 서버에 보내지지 않는다.

단축 URL
--------

#### 상대 URL

`URL` 은 두가지로 나뉘는데 `상대 URL` 과 `절대 URL`이다. 여태까지 본것들은 ex) `http://hello.com` 는 절대 URL 이며 상대 URL은 다음과 같은 특징이 있다.

-	상대 URL은 모든 정보를 가지고 있지 않다.
-	상대 URL을 사용하기 위해서는 `기저(Base)`가 필요하다.
-	`새로운 절대 URL` = `기저 URL`\+`상대 URL`

예를들어 상대 URL을 포함한 HTML의 일부를 보자면

```html
<HTML>
...
<a href='./hello.html'>hello_index</a>
...
</HTML>
```

이 html 코드가 `http://joeshouse.com/index.html`에 위치해있다고 생각하자. `hello_index` 를 누르는 순간 <br>`기저 URL => http://joeshouse.com/index.html` + `상대 URL => ./hello.html` <br>= `새로운 절대 URL => http://joeshouse.com/hello.html`로 이동하게 될것이다.

#### URL의 확장

브라우저 등에서 사용자의 편의를 위해서 사용되며 URL의 확장의 주요 2개의 예시를 들어보자면 - `호스트명 확장` : 예를들어 인터넷에 yahoo 를 쳤다면 , 자동으로 www. 와 .com 이 붙어 사용자의 시간을 절약한다. 하지만 프락시와 같은 다른 http 애플리케이션에 문제를 야기시킬 수 있다. - `히스토리 확장` : 과거에 방문했던 URL의 기록을 저장해놓고 , 이를 이용해 사용자 경험을 향상시킨다. 하지만 위와 동일하게 프락시를 사용할 경우네는 다르게 동작할 수 있다.

안전하지 않은 문자
------------------

URL은 잘 호환되도록 설계되었고 , 모든 리소스가 여러 프로토콜을 이용해서 잘 전달될 수 있도록, 각 리소스에 유일한 이름을 지을 수 있게 설계되었다. 그리고 어떤 인터넷 프로토콜을 통해서든 안전하게 전송될 수 있도록 URL을 설계하는것을 중요하게 생각했다.

안전한 전송이란, 정보가 유실될 위험 없이 URL을 전송할 수 있다는 것을 의미한다.

US-ASCII에 포함되지 않은 문자들은 URL의 `이스케이프` 라는 기능을 사용하여 , 안전한 문자로 인코딩할 수 있도록 하였다. 이를 통해 `이동성`과 `완성도`를 높였다.

#### 인코딩체계

인코딩은 안전하지 않은 문자를 `%`로 시작해 ASCII의 2개의 16진수 숫자를 통해 `이스케이프 문자`로 만든다.

ex) `http://hello.com/~joe` 일때 `http://hello.com/%7Ejoe`로 변환될 것이다. <br>( ~ = 126 -> 0x7E )<br>

#### 문자제한

몇몇 문자들은 URL상에서 특별한 의미로 예약되어 있다. 예를들어 `/ : =`등등 이와 같은 문자를 본래의 의미에 맞춰서 사용하고 싶다면 인코딩을 고려해야 할것이다.
